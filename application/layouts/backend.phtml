<?php echo $this->doctype() . PHP_EOL; ?>
<html>
<head>    
    <?php // META AREA -------------------------------------------------------?>
    <meta charset="UTF-8" />
    <meta name="Author" content="lab2023 Dev. Team: http://www.lab2023.com/" />
    <meta name="Author-Corporate" content="lab2023 Dev. Team, 2010 - 2011, http://www.lab2023.com/" />
    <meta name="Copyright" content="lab2023 Dev. Team, 2010 - 2011, http://www.lab2023.com/" />
    <meta http-equiv="Accept-encoding" content="gzip,deflate" />
    <meta name="Framework" content="Kebab Project - www.kebab-project.com" />
    <?php echo $this->headMeta(); ?>

    <?php // TITLE AREA ------------------------------------------------------?>
    <?php echo $this->headTitle('Kebab Project - Back-end')->setSeparator(' :: '); ?>

    <?php // LINK AREA -------------------------------------------------------?>
    <link href="<?php echo $this->asset('kernel.css')->distribution()->theme()->get(); ?>" media="screen" rel="stylesheet" type="text/css" />
    <link href="<?php echo $this->assetVendor('resources/css/ext-all-notheme.css')->get('extjs', true); ?>" media="screen" rel="stylesheet" type="text/css" />
    <link href="<?php echo $this->assetVendor('resources/css/xtheme-gray.css')->get('extjs', true); ?>" media="screen" rel="stylesheet" type="text/css" />
    <link href="<?php echo $this->assetVendor('examples/ux/css/ux-all.css')->get('extjs', true); ?>" media="screen" rel="stylesheet" type="text/css" />
    <link href="<?php echo $this->assetVendor('silk/famfamfam-silk-icons.css')->get('famfamfam', true); ?>" media="screen" rel="stylesheet" type="text/css" />
    <link href="<?php echo $this->assetVendor('flags/famfamfam-flag-icons.css')->get('famfamfam', true); ?>" media="screen" rel="stylesheet" type="text/css" />
    <?php echo $this->headLink(array('rel' => 'favicon','href' => $this->asset('favicon.ico')->get(false))); ?>

    <?php // STYLE AREA ------------------------------------------------------?>
    <?php echo $this->headStyle(); ?>
    <style>
    body {
        background:
            <?php echo $this->variable('kebabOs')->distributions->background->color; ?> 
            url('<?php echo $this->asset('wallpapers/'.$this->variable('kebabOs')->distributions->background->image)->get(); ?>')
            center;
    }
    </style>
    
    <?php // SCRIPT AREA -----------------------------------------------------?>
    <script type="text/javascript">
    var APPLICATION_ENV = "<?php echo APPLICATION_ENV; ?>";
    var BASE_URL = "<?php echo BASE_URL; ?>";
    </script> 
    <?php
    echo $this->headScript()
        ->prependFile($this->assetVendor('examples/ux/ux-all.js')->get('extjs'))
        ->prependFile($this->assetVendor('ext-all.js')->get('extjs'))
        ->prependFile($this->assetVendor('adapter/ext/ext-base.js')->get('extjs'));
    ?>
</head>
<body>

    <!-- RIBBOn & PAGE LOADER -->
    <div id="beta-ribbon"></div>
    <div id="kebab-loading-mask"></div>

    <?php echo $this->layout()->content . PHP_EOL; ?>

    <div id="project-info" class="kebab-rounded-corners kebab-shadow">
        <p><?php echo $this->settings('project')->info; ?></p>
        <p><strong>Version:</strong><br/><?php echo $this->settings('project')->version; ?></p>
        <p><strong>Release Date:</strong><br/><?php echo $this->settings('project')->releaseDate; ?></p>
    </div>
    <script type="text/javascript">
    Ext.onReady(function() {
        Ext.fly('project-info').on('mouseenter', function(a, b, c) {
            Ext.fly('project-info').scale([150],[Ext.isChrome ? 95 : 85], {
                easing: 'elasticOut', duration: .6,
                callback: function() {
                    new Ext.util.DelayedTask(function(){
                         Ext.fly('project-info').scale([120],[18], {
                            easing: 'easeIn', duration: .1
                        });
                    }).delay(3000);
                }
            });
        });
        // Simple desktop notifications test...
        Ext.fly('project-info').on('click', function(a, b, c) {
            notification();
            function RequestPermission (callback){
                window.webkitNotifications.requestPermission(callback);
            }
            function notification () {      
                if (window.webkitNotifications.checkPermission() > 0) {
                    RequestPermission(notification);
                }         
                var icon  = 'http://kebab-project.com/images/favicon.ico';
                var title = 'Kebab Project';
                var body   = "<?php echo $this->settings('project')->info; ?>"+
                    "Version:<?php echo $this->settings('project')->version; ?>" +
                    "Release Date:<?php echo $this->settings('project')->releaseDate; ?>";
                var popup = window.webkitNotifications.createNotification(icon, title, body);
                popup.show();
                setTimeout(function(){
                    popup.cancel();
                }, '5000');
            }
        });
    });
    </script>
    
    <!-- GMaps v3 that works -->
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false&language=tr"></script>
</body>
</html>
